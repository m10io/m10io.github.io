"use strict";(self.webpackChunkproduct=self.webpackChunkproduct||[]).push([[433,2236],{788:(e,t,n)=>{n.d(t,{A:()=>a});n(6540);var s=n(8186),i=n(7430),o=n(4612),r=n(4767),c=n(4848);function a(e){let t=e.code.trim();return(0,c.jsx)("div",{className:"code",children:(0,c.jsxs)("div",{className:"code-inner",children:[(0,c.jsx)(s.Ay,{value:t,height:e.height||"auto",theme:i.IR,extensions:[r.gq[e.lang]],readOnly:"true"}),(0,c.jsx)(o.A,{code:t,className:"buttonGroup"})]})})}},4753:(e,t,n)=>{n.r(t),n.d(t,{ProductName:()=>l,assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"components/variables","title":"variables","description":"","source":"@site/docs/components/variables.mdx","sourceDirName":"components","slug":"/components/variables","permalink":"/components/variables","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var i=n(4848),o=n(8453);const r={},c=void 0,a={},l=()=>(0,i.jsx)("span",{children:"DRM"}),d=[];function h(e){return(0,i.jsx)(i.Fragment,{})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h()}},7181:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"api/fis-auth","title":"FIS Authentication","description":"Some requests must be authenticated with an access token from FIS. To do so, you must have valid credentials for the institution handling the authentication requests.","source":"@site/docs/api/fis-auth.mdx","sourceDirName":"api","slug":"/api/fis-auth","permalink":"/api/fis-auth","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"sidebar","previous":{"title":"API Overview","permalink":"/api/overview"},"next":{"title":"Accounts","permalink":"/api/accounts"}}');var i=n(4848),o=n(8453),r=(n(4767),n(788)),c=n(4753);const a={},l="FIS Authentication",d={},h=[{value:"Obtaining an Access Token with the CLI",id:"obtaining-an-access-token-with-the-cli",level:3},{value:"Response",id:"response",level:4},{value:"Setting Up Authentication Config with the SDK",id:"setting-up-authentication-config-with-the-sdk",level:3},{value:"Dart",id:"dart",level:4},{value:"Rust",id:"rust",level:4},{value:"TypeScript",id:"typescript",level:4}];function u(e){const t={code:"code",em:"em",h1:"h1",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"fis-authentication",children:"FIS Authentication"})}),"\n",(0,i.jsxs)(t.p,{children:["Some requests must be authenticated with an ",(0,i.jsx)(t.em,{children:"access token"})," from FIS. To do so, you must have valid credentials for the institution handling the authentication requests."]}),"\n",(0,i.jsxs)(t.p,{children:["When working with the ",(0,i.jsx)(c.ProductName,{})," SDK, a configuration file must be set containing the required parameters regarding the institution's authentication parameters."]}),"\n",(0,i.jsxs)(t.p,{children:["When working with the ",(0,i.jsx)(c.ProductName,{})," CLI, the required parameters must be specified in the command."]}),"\n",(0,i.jsxs)(t.p,{children:["When these parameters are correctly set, an interceptor will be added to each gRPC request made through the ",(0,i.jsx)(c.ProductName,{})," SDK or CLI."]}),"\n",(0,i.jsx)(t.h3,{id:"obtaining-an-access-token-with-the-cli",children:"Obtaining an Access Token with the CLI"}),"\n",(0,i.jsx)(t.p,{children:"The following command will create an authentication code request, which must be used to login through a web browser."}),"\n",(0,i.jsx)(r.A,{code:'\nm10 fis-auth \\\n--server app.dev.m10.net \\\n--auth-url "https://login-uat.fisglobal.com/idp/examplebank/rest/1.0" \\\n--client-secret example-secret \\\n--stdout\n',lang:"cli"}),"\n",(0,i.jsx)(t.h4,{id:"response",children:"Response"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"Log in at https://login-uat.fisglobal.com/idp/examplebank/verifyUserCode.html?scope=openid\nYour verification code is Ij996zHY\n"})}),"\n",(0,i.jsx)(t.p,{children:"Upon successful login, the CLI command will complete. The access token will be stored and added to future requests."}),"\n",(0,i.jsxs)(t.p,{children:["If the ",(0,i.jsx)(t.code,{children:"--std-out"})," flag is specified, the access token will be printed directly to the console."]}),"\n",(0,i.jsx)(t.h3,{id:"setting-up-authentication-config-with-the-sdk",children:"Setting Up Authentication Config with the SDK"}),"\n",(0,i.jsx)(t.h4,{id:"dart",children:"Dart"}),"\n",(0,i.jsxs)(t.p,{children:["The Dart SDK should be set up with the following ",(0,i.jsx)(t.code,{children:"YAML"})," configuration, named ",(0,i.jsx)(t.code,{children:"oauth_config.yaml"})," at the same directory level as the SDK."]}),"\n",(0,i.jsx)(r.A,{code:"\nclient_id: example_client_id\nclient_secret: example_client_secret\n",lang:"dart"}),"\n",(0,i.jsx)(t.h4,{id:"rust",children:"Rust"}),"\n",(0,i.jsxs)(t.p,{children:["The Rust SDK should be set up with the following ",(0,i.jsx)(t.code,{children:"TOML"})," configuration, named ",(0,i.jsx)(t.code,{children:"config.toml"})," at the same directory level as the SDK."]}),"\n",(0,i.jsx)(r.A,{code:'\n[oauth]\nclient_id = "your_client_id"\nclient_secret = "your_client_secret"\nbase_url = "https://login-uat.fisglobal.com/idp/examplebank/rest/1.0"\n',lang:"rust"}),"\n",(0,i.jsx)(t.h4,{id:"typescript",children:"TypeScript"}),"\n",(0,i.jsx)(t.p,{children:"The TypeScript SDK client offers the option to directly pass an access token to its constructor. You can obtain this access token using any preferred method."}),"\n",(0,i.jsx)(r.A,{code:'\nimport { M10Client, getFISAccessToken } from "m10-sdk";\n\nconst fisAccessToken = await getFISAccessToken(\n  process.env.FIS_OAUTH_URL || LEDGER_URL,\n  process.env.FIS_CLIENT_ID || "m10-sdk-test",\n  process.env.FIS_CLIENT_SECRET || "m10-sdk-test",\n);\n\nconst operatorClient = new M10Client(LEDGER_URL, operatorSigner, fisAccessToken.accessToken);\n',lang:"ts"})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>c});var s=n(6540);const i={},o=s.createContext(i);function r(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);